<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="598pt" height="146pt"
 viewBox="0.00 0.00 598.09 146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 142)">
<title>%3</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-142 594.087,-142 594.087,4 -4,4"/>
<!-- NEUTRAL -->
<g id="node1" class="node"><title>NEUTRAL</title>
<ellipse fill="none" stroke="black" cx="233.794" cy="-120" rx="51.9908" ry="18"/>
<text text-anchor="middle" x="233.794" y="-116.3" font-family="Times,serif" font-size="14.00">NEUTRAL</text>
</g>
<!-- NEUTRAL&#45;&gt;NEUTRAL -->
<g id="edge2" class="edge"><title>NEUTRAL&#45;&gt;NEUTRAL</title>
<path fill="none" stroke="black" d="M284.129,-124.573C295.484,-124.161 303.789,-122.637 303.789,-120 303.789,-118.228 300.04,-116.959 294.136,-116.192"/>
<polygon fill="black" stroke="black" points="294.367,-112.699 284.129,-115.427 293.833,-119.679 294.367,-112.699"/>
<text text-anchor="middle" x="360.289" y="-123.8" font-family="Times,serif" font-size="14.00">add, full batch ready</text>
<text text-anchor="middle" x="360.289" y="-108.8" font-family="Times,serif" font-size="14.00">(notify batch ready)</text>
</g>
<!-- NEUTRAL&#45;&gt;NEUTRAL -->
<g id="edge3" class="edge"><title>NEUTRAL&#45;&gt;NEUTRAL</title>
<path fill="none" stroke="black" d="M281.41,-127.548C336.974,-131.525 416.789,-129.009 416.789,-120 416.789,-111.519 346.053,-108.792 291.406,-111.819"/>
<polygon fill="black" stroke="black" points="291.169,-108.327 281.41,-112.452 291.611,-115.313 291.169,-108.327"/>
<text text-anchor="middle" x="463.789" y="-123.8" font-family="Times,serif" font-size="14.00">add, buffer full</text>
<text text-anchor="middle" x="463.789" y="-108.8" font-family="Times,serif" font-size="14.00">(drop new event)</text>
</g>
<!-- BATCH TAKEN -->
<g id="node2" class="node"><title>BATCH TAKEN</title>
<ellipse fill="none" stroke="black" cx="72.7935" cy="-18" rx="72.5877" ry="18"/>
<text text-anchor="middle" x="72.7935" y="-14.3" font-family="Times,serif" font-size="14.00">BATCH TAKEN</text>
</g>
<!-- NEUTRAL&#45;&gt;BATCH TAKEN -->
<g id="edge1" class="edge"><title>NEUTRAL&#45;&gt;BATCH TAKEN</title>
<path fill="none" stroke="black" d="M184.027,-114.786C142.381,-110.113 87.6077,-100.895 73.7935,-84 65.3659,-73.6928 64.4931,-59.0823 66.0019,-46.3232"/>
<polygon fill="black" stroke="black" points="69.5014,-46.6194 67.716,-36.1761 62.5992,-45.4534 69.5014,-46.6194"/>
<text text-anchor="middle" x="142.794" y="-72.8" font-family="Times,serif" font-size="14.00">take_batch</text>
<text text-anchor="middle" x="142.794" y="-57.8" font-family="Times,serif" font-size="14.00">(mark batch for deletion)</text>
</g>
<!-- INVALID/ERROR -->
<g id="node3" class="node"><title>INVALID/ERROR</title>
<ellipse fill="none" stroke="black" cx="510.794" cy="-18" rx="79.0865" ry="18"/>
<text text-anchor="middle" x="510.794" y="-14.3" font-family="Times,serif" font-size="14.00">INVALID/ERROR</text>
</g>
<!-- NEUTRAL&#45;&gt;INVALID/ERROR -->
<g id="edge4" class="edge"><title>NEUTRAL&#45;&gt;INVALID/ERROR</title>
<path fill="none" stroke="black" d="M277.267,-109.915C304.264,-103.759 339.474,-94.7907 369.794,-84 405.272,-71.3733 444.02,-53.1697 471.902,-39.2367"/>
<polygon fill="black" stroke="black" points="473.568,-42.3168 480.921,-34.6896 470.416,-36.0663 473.568,-42.3168"/>
<text text-anchor="middle" x="474.294" y="-65.3" font-family="Times,serif" font-size="14.00">delete_batch</text>
</g>
<!-- BATCH TAKEN&#45;&gt;NEUTRAL -->
<g id="edge7" class="edge"><title>BATCH TAKEN&#45;&gt;NEUTRAL</title>
<path fill="none" stroke="black" d="M142.932,-23.0649C167.29,-27.7268 193.144,-36.7808 211.794,-54 222.361,-63.757 227.854,-78.7671 230.709,-91.9059"/>
<polygon fill="black" stroke="black" points="227.289,-92.6688 232.479,-101.906 234.182,-91.4485 227.289,-92.6688"/>
<text text-anchor="middle" x="296.794" y="-72.8" font-family="Times,serif" font-size="14.00">delete_batch</text>
<text text-anchor="middle" x="296.794" y="-57.8" font-family="Times,serif" font-size="14.00">(delete succesfull events)</text>
</g>
<!-- BATCH TAKEN&#45;&gt;BATCH TAKEN -->
<g id="edge5" class="edge"><title>BATCH TAKEN&#45;&gt;BATCH TAKEN</title>
<path fill="none" stroke="black" d="M143.599,-22.3568C155.426,-21.7472 163.587,-20.2949 163.587,-18 163.587,-16.4581 159.903,-15.2966 153.898,-14.5155"/>
<polygon fill="black" stroke="black" points="153.859,-10.9997 143.599,-13.6432 153.268,-17.9747 153.859,-10.9997"/>
<text text-anchor="middle" x="232.587" y="-21.8" font-family="Times,serif" font-size="14.00">take_batch</text>
<text text-anchor="middle" x="232.587" y="-6.8" font-family="Times,serif" font-size="14.00">(mark batch for deletion)</text>
</g>
<!-- BATCH TAKEN&#45;&gt;BATCH TAKEN -->
<g id="edge6" class="edge"><title>BATCH TAKEN&#45;&gt;BATCH TAKEN</title>
<path fill="none" stroke="black" d="M138.437,-25.8867C207.458,-29.3691 301.587,-26.7402 301.587,-18 301.587,-9.68653 216.426,-6.90217 148.713,-9.64689"/>
<polygon fill="black" stroke="black" points="148.268,-6.16341 138.437,-10.1133 148.585,-13.1562 148.268,-6.16341"/>
<text text-anchor="middle" x="348.587" y="-21.8" font-family="Times,serif" font-size="14.00">add, buffer full</text>
<text text-anchor="middle" x="348.587" y="-6.8" font-family="Times,serif" font-size="14.00">(drop new event)</text>
</g>
</g>
</svg>
